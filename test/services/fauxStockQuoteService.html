<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Strict//EN" "http://www.w3.org/TR/html4/strict.dtd">
	<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>Faux StockQuoteService Test</title>
		
		<!-- Logging -->
		<script src="../../external/src/json2.js"></script>
		<script src="../../src/logging/Logger.js"></script>
		<script src="../../src/logging/ConsoleLogger.js"></script>
		
		<!-- services related -->
		<script src="../../src/Event.js"></script>
		<script src="../../src/EventPublisher.js"></script>
		<script src="../../src/services/Service.js"></script>
		<script src="../../src/services/PollingService.js"></script>
		<script src="./StockQuoteService.js"></script>
		
		<script src="./StockQuoteController.js"></script>
		<script src="./StockQuoteView.js"></script>
		
		<script>
			var log = new ConsoleLogger( "fauxStockQuoteService.html" );
			log.setJsonService( JSON );
			
			var eventDispatcher   = new EventPublisher();
			var stockQuoteService = new StockQuoteService( eventDispatcher, "refreshRates.stock", 3000 );
			var stockQuote        = new StockQuoteController( stockQuoteService, new StockQuoteView( "stockQuoteView" ) );
			
			window.onload = function() {
				stockQuote.init();
				stockQuoteService.init();
			};
		</script>
	</head>
	<body>
		
		<table cellpadding="3" cellspacing="0" border="1" id="stockQuoteView">
			<caption>Stock Quote for <span id="stockQuoteView-symbol"></span></caption>
			<thead>
				<tr>
					<th>Last</th>
					<th>Bid</th>
					<th>Ask</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td id="stockQuoteView-last"></td>
					<td id="stockQuoteView-bid"></td>
					<td id="stockQuoteView-ask"></td>
				</tr>
			</tbody>
		</table>
		
	</body>
</html>